<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
  <title>注册-借花花</title>
  <link rel="stylesheet" type="text/css" href="./style/reset.css" media="all" />
  <link rel="stylesheet" type="text/css" href="./style/jiehuahua.css" media="all" />
  <link rel="stylesheet" type="text/css" href="./style/swiper.css" media="all" />
  <script src="./js/swiper.js"></script>
  <script type="text/javascript" src="./js/720rem.js"></script>
</head>
<body style="background: #f4f4f4">
    <div class="container bg-hui">
        <div class="header"><a href="javascript:history.back()" class="back">&#x1607;</a>注册</div>
        <form id="login_form2">
	        <div class="login-form">
	        	<dl>
	        		<dt>&#x1608;</dt>
	        		<dd>
	        			<input type="text" name="mobile" placeholder="手机号码" autocomplete="off">
	        		</dd>
	        	</dl>
	            <dl>
	        		<dt>&#x1671;</dt>
	        		<dd>
	        			<input type="text" name="password" placeholder="设置密码" autocomplete="off">
	        		</dd>
	        	</dl>
	        	<dl>
	        		<dt>&#x1674;</dt>
	        		<dd>
	        			<input type="text" name="re_password" placeholder="确认密码" autocomplete="off">
	        		</dd>
	        	</dl>
	        	<dl>
	                <dt>&#x1683;</dt>
	                <dd>
	                    <input type="text" maxlength="6" value="" name="yzm" value="yzm" placeholder="验证码" style="width: 3.5rem">
	                    <a href="" class="yzm">获取验证码</a>
	                </dd>
	            </dl>
	        </div>
	        <a href="javascript:void(0)" class="submit">确认注册</a>

	        <div class="tiaokuan">
	        	<i id="on">&#x1684;</i> <i id="off" style="display: none;">&#x1685;</i> 已阅读并同意<a href="tiaokuan.html">《借花花服务条款》</a>
	        </div>
        </form>
    </div>

    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/index.js"></script>
</body>
</html>
<script>
	var on = 1;
    $(function(){
        var page = new Page();
        page.init();

        // $(".tiaokuan i").on("click", function(){
        // 	var txt = $(this).find("i").text();

        // 	if(on === 0) {
        // 		$("#on").show();
        // 		$("#off").hide();
        // 		on = 1;
        // 	} else {
        // 		$("#off").show();
        // 		$("#on").hide();
        // 		on = 0;
        // 	}
        // })

        $("#login_form2 .submit").on("click", function(){
        	var mobile = $("#login_form2 input[name=mobile]").val();
        	var yzm = $("#login_form2 input[name=yzm]").val();
        	var pass1 = $("#login_form2 input[name=password]").val();
        	var pass2 = $("#login_form2 input[name=re_password]").val();

        	$("#login_form2 dd").removeClass("error");
        	$("#login_form2 dl").removeClass("active");

        	var re= /^(1[0-9]{10})$/;
        	if(mobile === "") {
        		$("#login_form2 input[name=mobile]").parent().addClass("error");
        		$("#login_form2 input[name=mobile]").attr("placeholder","请填写手机号码");
        		$("#login_form2 input[name=mobile]").focus();
        	} else if(!re.test(mobile)){
        		$("#login_form2 input[name=mobile]").parent().addClass("error");
        		$("#login_form2 input[name=mobile]").attr("placeholder","手机号码不正确");
                $("#login_form2 input[name=mobile]").val("");
        		$("#login_form2 input[name=mobile]").focus();
        	} else if(pass1 === "") {
        		$("#login_form2 input[name=password]").parent().addClass("error");
        		$("#login_form2 input[name=password]").attr("placeholder","密码不能为空");
                $("#login_form2 input[name=password]").val("");
        		$("#login_form2 input[name=password]").focus();
        	} else if(pass1 != pass2) {
        		$("#login_form2 input[name=re_password]").parent().addClass("error");
        		$("#login_form2 input[name=re_password]").attr("placeholder","确认密码错误");
                $("#login_form2 input[name=re_password]").val("");
        		$("#login_form2 input[name=re_password]").focus();
        	} else if(yzm === "") {
        		$("#login_form2 input[name=yzm]").parent().addClass("error");
        		$("#login_form2 input[name=yzm]").attr("placeholder","验证码不正确");
                $("#login_form2 input[name=yzm]").val("");
        		$("#login_form2 input[name=yzm]").focus();
        	}
        })

        //验证码
        var yzmInterval = null;
        var yzmTime = 60;
        $(".yzm").on("click", function(){
            $(this).addClass("disabled");
            yzmInterval = setInterval(function(){

                yzmTime--;
                if(yzmTime <= 0) {
                    $(".yzm").html("获取验证码");
                    $(".yzm").removeClass("disabled");
                    clearInterval(yzmInterval);
                } else {
                    $(".yzm").html(yzmTime + "秒后重新发送");
                }
            },1000);
            return false;
        });
    })
</script>
